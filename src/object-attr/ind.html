<html>
  <body>
    <h4>hello</h4>
    <script>
      const getObject = (attrList) => {
        const rst = {};
        attrList.forEach(({ attr, value }) => {
          const as = attr.split(".");
          let tmpObj = rst;
          as.forEach((a) => {
            // if (/\d+/.test(a)) {
            //    debugger
            //     tmpObj['_at'+a+"_"] = []
            //     // tmpObj = tmpObj['_at'+a+"_"]
            // }
            if (!tmpObj[a]) {
                tmpObj[a] = {};
            }
            tmpObj = tmpObj[a];
          });
          tmpObj["_val_"] = value;
        });
        return rst;
      };

      const rst2 = getObject([
        { attr: "peter.age", value: "23" },
        { attr: "peter.name", value: "jack" },
        { attr: "peter.sons.0", value: "jack" },
        { attr: "peter.sons.1", value: "july" },
      ]);
    </script>
  </body>
</html>
